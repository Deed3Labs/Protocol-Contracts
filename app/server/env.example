# Server Configuration
PORT=3001
NODE_ENV=development

# Redis Configuration
# Option 1: Use REDIS_URL (recommended for cloud providers like Upstash)
REDIS_URL=redis://default:password@host:6379

# Option 2: Use individual settings (for local or custom Redis)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TLS=false

# External API Keys (optional)
COINGECKO_API_KEY=
RPC_PROVIDER_API_KEY=

# Plaid API Keys (for bank linking and balance display)
# Get your keys from: https://dashboard.plaid.com/developers/keys
# PLAID_ENV: sandbox (development) or production
PLAID_CLIENT_ID=
PLAID_SECRET=
PLAID_ENV=sandbox
# Optional: comma-separated origins allowlisted in Plaid Dashboard (for OAuth e.g. Chase).
# Only these origins get redirect_uri in link token; omit or leave empty to avoid 400 from Plaid.
# Example: https://app.deed3.io,https://protocol-contracts-preview.up.railway.app
# PLAID_ALLOWED_REDIRECT_ORIGINS=

# Stripe API Keys (for crypto onramp)
# Get your keys from: https://dashboard.stripe.com/apikeys
# Note: You must submit an onramp application before using in production
# See: https://docs.stripe.com/crypto/onramp
STRIPE_SECRET_KEY=

# Bridge (ACH/wire funding to wallet)
# BRIDGE_FUNDING_URL_BASE: base URL for Bridge funding flow (query params: wallet, amount, currency, network)
# BRIDGE_API_KEY: optional, for Bridge API session creation
BRIDGE_FUNDING_URL_BASE=
BRIDGE_API_KEY=

# OpenSea API Key (for NFT floor price fallback)
# Get your free API key at: https://docs.opensea.io/reference/api-overview
# Required for NFT pricing on non-Ethereum chains (Base, Polygon, Arbitrum, etc.)
# Alchemy NFT API is used for Ethereum mainnet, OpenSea is fallback
OPENSEA_API_KEY=

# Alchemy API Key (recommended for production)
# Get your free API key at: https://dashboard.alchemy.com/
# If set, will automatically construct Alchemy RPC URLs for all supported chains
# This is the easiest way to use Alchemy - just set this one variable!
ALCHEMY_API_KEY=

# Alchemy compute unit alerts (optional)
# ALCHEMY_CU_ALERT_THRESHOLD=100000   # Per-user 24h; warn if user exceeds this (default 100000)
# ALCHEMY_CU_DAILY_ALERT_THRESHOLD=   # Global 24h; warn if total 24h CUs exceed this (e.g. 2000000)

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Cache TTLs (in seconds)
CACHE_TTL_PRICE=300  # 5 minutes - aligned with WebSocket price update interval
CACHE_TTL_BALANCE=300  # 5 minutes - increased from 10s to align with WebSocket balance update interval (5 min) and reduce Alchemy compute unit usage
CACHE_TTL_PLAID_BALANCES=3600  # 1 hour - Plaid bank balance cache (~$0.10/call). Use ?refresh=1 to bypass.
CACHE_TTL_PLAID_RECURRING=86400  # 24 hours - recurring streams change rarely (monthly). Use ?refresh=1 to bypass.
CACHE_TTL_PLAID_SPEND=3600  # 1 hour - spend-by-day for current month. Use ?refresh=1 to bypass.
CACHE_TTL_NFT=1800  # 30 minutes - increased to reduce Alchemy compute unit usage
CACHE_TTL_TRANSACTION=600  # 10 minutes - increased to align with refresh intervals and reduce Alchemy compute unit usage
CACHE_TTL_RPC=5  # 5 seconds - short TTL for RPC calls (quick cache for repeated requests)

# CORS
CORS_ORIGIN=http://localhost:5173

# RPC URLs (optional - only needed if you want to override Alchemy URLs or use a different provider)
# Priority: Custom URL > Alchemy (if ALCHEMY_API_KEY set) > Public fallback
# If you set ALCHEMY_API_KEY above, you don't need to set these individually
# Format examples:
#   ETHEREUM_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_API_KEY
#   SEPOLIA_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/YOUR_API_KEY
ETHEREUM_RPC_URL=
BASE_RPC_URL=
GNOSIS_RPC_URL=
POLYGON_RPC_URL=
ARBITRUM_RPC_URL=
SEPOLIA_RPC_URL=
BASE_SEPOLIA_RPC_URL=
MUMBAI_RPC_URL=
